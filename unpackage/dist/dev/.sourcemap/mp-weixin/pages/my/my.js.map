{"version":3,"sources":["webpack:///C:/Users/Administrator/Desktop/swiper-video-master/main.js","webpack:///C:/Users/Administrator/Desktop/swiper-video-master/pages/my/my.vue?389f","webpack:///C:/Users/Administrator/Desktop/swiper-video-master/pages/my/my.vue?4635","webpack:///C:/Users/Administrator/Desktop/swiper-video-master/pages/my/my.vue?ff96","webpack:///C:/Users/Administrator/Desktop/swiper-video-master/pages/my/my.vue?d2b2","webpack:///C:/Users/Administrator/Desktop/swiper-video-master/pages/my/my.vue"],"names":["createPage","Page","components","tabar","data","SessionKey","OpenId","nickName","avatarUrl","gender","isCanUse","uni","getStorageSync","onLoad","methods","login","_this","provider","success","loginRes","code","getUserInfo","infoRes","userInfo","updateUserInfo","url","method","header","res","console","log","status","setStorageSync","token","phoneNumber","headUrl","reLaunch"],"mappings":"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","file":"pages/my/my.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/my/my.vue'\ncreatePage(Page)","import { render, staticRenderFns } from \"./my.vue?vue&type=template&id=3a7962f8&\"\nimport script from \"./my.vue?vue&type=script&lang=js&\"\nexport * from \"./my.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!F:\\\\vs_code\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"F:\\\\vs_code\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('3a7962f8', component.options)\n    } else {\n      api.reload('3a7962f8', component.options)\n    }\n    module.hot.accept(\"./my.vue?vue&type=template&id=3a7962f8&\", function () {\n      api.rerender('3a7962f8', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"C:/Users/Administrator/Desktop/swiper-video-master/pages/my/my.vue\"\nexport default component.exports","export * from \"-!F:\\\\vs_code\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-hbuilderx\\\\packages\\\\webpack-uni-nvue-loader\\\\lib\\\\templateLoader.js??vue-loader-options!F:\\\\vs_code\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!F:\\\\vs_code\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!F:\\\\vs_code\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\vs_code\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!F:\\\\vs_code\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./my.vue?vue&type=template&id=3a7962f8&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!F:\\\\vs_code\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!F:\\\\vs_code\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!F:\\\\vs_code\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!F:\\\\vs_code\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\vs_code\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!F:\\\\vs_code\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./my.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!F:\\\\vs_code\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!F:\\\\vs_code\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!F:\\\\vs_code\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!F:\\\\vs_code\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\vs_code\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!F:\\\\vs_code\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./my.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n\nimport request from \"../../utils/request.js\"\nimport tabar from '../../components/tabBar/tabBar.vue'\nimport login from '../../utils/login.js'\nexport default {\n\tcomponents: {\n\t\ttabar\n\t},\n\tdata() {\n\t\treturn {\n\t\t\t SessionKey: '',\n\t\t\t OpenId: '',\n\t\t\t nickName: null,\n\t\t\t avatarUrl: null,\n\t\t\t gender:null,\n\t\t\t isCanUse: uni.getStorageSync('isCanUse')||true//默认为true\n\t\t}\n\t},\n\tonLoad() {\n\n\t},\n\tmethods: {\n　       //登录\n        login() {\n                let _this = this;\n                // uni.showLoading({\n                //     title: '登录中...'\n                // });\n             \n               // 1.wx获取登录用户code\n                uni.login({\n                    provider: 'weixin',\n                    success: function(loginRes) {\n                        let code = loginRes.code;\n                        if (!_this.isCanUse) {\n                            //非第一次授权获取用户信息\n                            uni.getUserInfo({\n                                provider: 'weixin',\n                                success: function(infoRes) {\n 　　　　　　　　　　　　　　　　　　　　　　//获取用户信息后向调用信息更新方法\n                                    let nickName = infoRes.userInfo.nickName; //昵称\n                                    let avatarUrl = infoRes.userInfo.avatarUrl; //头像\n                                        _this.updateUserInfo();//调用更新信息方法\n                                }\n                            });\n                        }\n            \n                        //2.将用户登录code传递到后台置换用户SessionKey、OpenId等信息\n                        request({\n                            url: '/wechat/login',\n                            data: {\n                                code: code,\n                            },\n                            method: 'POST',\n                            header: {\n                                'content-type': 'application/json'\n                            },\n                            success: (res) => {\n                                //openId、或SessionKdy存储//隐藏loading\n\t\t\t\t\t\t\t\tconsole.log(res)\n\t\t\t\t\t\t\t\tif(res.data.status===200){\n\t\t\t\t\t\t\t\t\tuni.setStorageSync('token', res.data.token);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tconsole.log('token',uni.getStorageSync('token'))\n\t\t\t\t                        //授权成功后获取用户数据存入数据库\n\t\t\t                             uni.getUserInfo({\n\t\t\t                               provider: 'weixin',\n\t\t\t                               success: function(infoRes) {\n\t\t\t　　　　　　　　　　　　　　　　　　　　　　//获取用户信息后向调用信息更新方法\n\t\t                                        console.log(infoRes.userInfo)\n\t\t\t                                   _this.nickName = infoRes.userInfo.nickName; //昵称\n\t\t\t                                   _this.avatarUrl = infoRes.userInfo.avatarUrl; //头像\n\t\t\t\t\t\t\t\t\t\t\t   _this.gender = infoRes.userInfo.gender\n\t\t\t                                   _this.updateUserInfo();//调用更新用户信息方法\n\t\t\t                               }\n\t\t\t                           });\t\t\t\t\t\n                               // uni.hideLoading();\n                            }\n                        });\n                    },\n                });\n            },\n         //向后台更新信息\n            updateUserInfo() {\n                let _this = this;\n\t\t\t\tconsole.log('_this.nickName',_this.nickName)\n                request({\n                    url:'/wechat/update/userinfo' ,//服务器端地址\n                    data: {\n                        phoneNumber: null,\n                        nickName: _this.nickName,\n                        headUrl: _this.avatarUrl,\n\t\t\t\t\t\tgender: _this.gender\n                    },\n                    method: 'POST',\n                    header: {\n                        'content-type': 'application/json'\n                    },\n                    success: (res) => {\n                        if (res.data.status === 200) {\n\t\t\t\t\t\t\tconsole.log(res)\n                            uni.reLaunch({//信息更新成功后跳转到小程序首页\n                                url: '/pages/index/index'\n                            });\n                        }\n                    }\n                   \n                });\n            }\n\t}\n}\n"],"sourceRoot":""}